#set($top_menu="switcher")
#set($side_bar="cluster_node_detail")
#set($tab_bar="list")
#parse("shared/header.vm")
#parse("shared/top_menu.vm")
#parse("shared/switcher_side_bar.vm")
#parse("shared/switcher_tab_bar.vm")
<div class="row-fluid">
  <form class="form-inline well well-small" action="/huokangtou-server/switcher/cluster_node_detail/list" method="GET" id="find_form">
    <div class="control-group">
      <div class="controls">
        <div class="controls controls-row">
            <select class="input-medium" id="cluster" name="cluster">
                <option value="">选择集群</option>
                #foreach($cluster in $clusters)
                <option #if($cluster == $currentCluster) selected="selected" #end>$cluster</option>
                #end
            </select>
            <select class="input-medium" id="node" name="node">
                <option value="">选择节点</option>
                #foreach($node in $nodes)
                <option #if($node == $currentNode) selected="selected" #end>$node</option>
                #end
            </select>
            <button type="submit" class="btn btn-primary">查询</button>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="row-fluid">
#if($clusterNodeDetails && $clusterNodeDetails.size()>0)
<table class="table">
  <thead>
    <tr>
        <th>集群</th>
        <th>节点</th>
        <th>主机</th>
        <th>端口</th>
        <th>创建时间</th>
        <th>操作</th>
    </tr>
  </thead>
  <tbody>
    #foreach($clusterNodeDetail in $clusterNodeDetails)
    <tr>
        <td>$clusterNodeDetail.cluster</td>
        <td>$clusterNodeDetail.node</td>
        <td>$clusterNodeDetail.ip</td>
        <td>$clusterNodeDetail.port</td>
        <td>$DateUtil.formatForDate1($clusterNodeDetail.createTime)</td>
        <td><a href="/huokangtou-server/switcher/cluster_node_detail/delete?id=$clusterNodeDetail.id&cluster=$clusterNodeDetail.cluster">删除</a></td>
    </tr>
    #end
  </tbody>
</table>
#elseif ($switcheres && $switcheres.size() > 0)
<table class="table">
  <thead>
    <tr>
        <th>开关</th>
        <th>描述</th>
        <th>状态</th>
        <th>等级</th>
        <th>操作</th>
    </tr>
  </thead>
  <tbody>
    #foreach($switchere in $switcheres)
    <tr>
        <td>$switchere.key</td>
        <td>$switchere.describe</td>
        <td>$switchere.open</td>
        <td>$switchere.qos</td>
        <td><a href="/huokangtou-server/switcher/cluster_node_detail/delete?id=$clusterNodeDetail.id&cluster=$clusterNodeDetail.cluster">删除</a></td>
    </tr>
    #end
  </tbody>
</table>
#else
<div class="hero-unit">
    <h2>去注册集群信息吧!</h2>
</div>
#end
</div>
#parse("shared/footer.vm")
